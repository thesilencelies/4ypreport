\begin{tikzpicture}[ node distance =1.3cm, > =  stealth, hv path/.style={to path={-| (\tikztotarget)}}, vh path/.style={to path={|- (\tikztotarget)}},
layer/.style={ rectangle, draw, minimum width  = 1cm, minimum height = 2cm },
biglayer/.style={ rectangle, draw, minimum width  = 1cm, minimum height = 5cm }]

\node (in1)  at (0,0) {Prior Internal State};
\coordinate [right  =of  in1] (c1);
\node (l1) [layer, above of =  c1, label  = $h_{t}$] {};
\node (i1) [left = of  l1.130, node distance = 0.8cm] {$I_{t}$};
\coordinate [right = of l1] (c2);
\node (l2) [layer, above of =  c2, label  = $h_{t+1}$] {};
\node (i2) [left = of  l2.130, node distance = 0.8cm] {$I_{t+1}$};
\coordinate [right = of l2] (c3);
\node (l3) [layer, above of =  c3, label  = $h_{t+2}$] {};
\node (i3) [left = of  l3.130, node distance = 0.8cm] {$I_{t+2}$};
\node (end) [right = of l3] {$V_{out}$}
	edge [<-] (l3);

%edges
\draw  [hv path,<-] (l1.220)to (in1);
\draw [->] (i1) to (l1.130);
\draw [->] (i2) to (l2.130);
\draw [->] (i3) to (l3.130);
\draw [->] (l1.52) to (l2.232);
\draw [->] (l2.52) to (l3.232);

%diff terms
\draw [->, bend left = 40, color = blue] (end) to node[midway, below]  (diff){\Large{$\frac{\partial L}{\partial O_{t+1}}$}} (l2.east) ;
\draw [->, bend left = 40, color = blue] (l2.south east) to node[midway, below]  (diff){\Large{$\frac{\partial O_{t+1}}{\partial O_{t}}$}} (l1.east) ;


%circles for layers
\node (circ) [circle, draw, above of = l1, node distance = 0.65cm] {};
\node (circ) [circle, draw, below of = circ, node distance = 0.4cm] {};
\node (circ) [circle, draw, below of = circ, node distance = 0.4cm] {};
\node (circ) [circle, draw, below of = circ, node distance = 0.4cm] {};
\node (circ) [circle, draw, above of =  l2, node distance =0.65 cm] {};
\foreach \s in {1,...,3}
{
\node (circ) [circle, draw, below of = circ, node distance = 0.4cm] {};
}
\node (circ) [circle, draw, above of =  l3, node distance =0.65 cm] {};
\foreach \s in {1,...,3}
{
\node (circ) [circle, draw, below of = circ, node distance = 0.4cm] {};
}
\end{tikzpicture}